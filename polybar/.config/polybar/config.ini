[bar/main]
monitor = ${env:MONITOR}

width = 100%
height = 28
offset-x = 0
offset-y = 0
fixed-center = true

background = #282c34
foreground = #ffffff

font-0 = "JetBrains Mono:size=10;2"
font-1 = "JetBrainsMono Nerd Font:size=12;3"

modules-left = i3
modules-center = date
modules-right = cpu disk memory volume mic tray

tray-position = right
tray-padding = 5

enable-ipc = true
strip-wsnumbers = true

[module/i3]
type = internal/i3
format = <label-state> <label-mode>
index-sort = true
wrapping-scroll = false
pin-workspaces = true

label-focused = %name%
label-focused-background = #61afef
label-focused-foreground = #000000
label-focused-padding = 2

label-unfocused = %name%
label-unfocused-foreground = #abb2bf
label-unfocused-padding = 2

strip-wsnumbers = true

[module/date]
type = internal/date
interval = 1
date = %a %d %b
time = %H:%M
label = %date%     %time%

[module/cpu]
type = internal/cpu
interval = 2
label =  %{T2}%{T-}   %percentage%%
format-padding = 3

[module/disk]
type = internal/fs
mount-0 = /
label-mounted = %{T2}%{T-}   %percentage_used%%
format-padding = 3

[module/memory]
type = internal/memory
interval = 2
label = %{T2}󰘚%{T-}  %percentage_used%%
format-padding = 3

[module/volume]
type = custom/script
exec = ~/.config/polybar/volume.sh
interval = 1
format = <label>
format-padding = 3

[module/mic]
type = custom/script
exec = wpctl get-volume @DEFAULT_AUDIO_SOURCE@ | grep -q MUTED && echo "" || echo ""
interval = 1
format-padding = 2

click-left = wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
scroll-up = wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
scroll-down = wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-

[module/tray]
type = internal/tray

